{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MCP-W Service Interface",
  "description": "Schema for validating MCP-W service tool interfaces",
  "type": "object",
  "properties": {
    "tools": {
      "type": "object",
      "required": ["list_resources", "get_resource", "search_resources", "invoke_action"],
      "properties": {
        "list_resources": {
          "type": "object",
          "properties": {
            "description": {"type": "string"},
            "parameters": {
              "type": "object",
              "properties": {},
              "additionalProperties": false
            },
            "returns": {"const": "CallToolResult"}
          },
          "required": ["parameters", "returns"]
        },
        "get_resource": {
          "type": "object",
          "properties": {
            "description": {"type": "string"},
            "parameters": {
              "type": "object",
              "required": ["resource_uri"],
              "properties": {
                "resource_uri": {"type": "string", "description": "The URI of the resource to retrieve"}
              },
              "additionalProperties": false
            },
            "returns": {"const": "CallToolResult"}
          },
          "required": ["parameters", "returns"]
        },
        "search_resources": {
          "type": "object",
          "properties": {
            "description": {"type": "string"},
            "parameters": {
              "type": "object",
              "required": ["query"],
              "properties": {
                "query": {"type": "string", "description": "Natural language search query"}
              },
              "additionalProperties": false
            },
            "returns": {"const": "CallToolResult"}
          },
          "required": ["parameters", "returns"]
        },
        "invoke_action": {
          "type": "object",
          "properties": {
            "description": {"type": "string"},
            "parameters": {
              "type": "object",
              "required": ["action", "resource_id"],
              "properties": {
                "action": {"type": "string", "description": "The action to perform"},
                "resource_id": {"type": "string", "description": "The ID of the resource to perform the action on"}
              },
              "additionalProperties": false
            },
            "returns": {"const": "CallToolResult"}
          },
          "required": ["parameters", "returns"]
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["tools"]
}
